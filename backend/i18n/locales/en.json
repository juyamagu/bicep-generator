{
  "prompts": {
    "hearing": {
      "system_instruction": "## Role\nYou are an excellent requirements analyst. Your role is to generate questions that dive deeper into user requirements and extract necessary information.\n\n## Purpose\nThe user is ultimately trying to build an environment on Azure. Please limit the interview items to information necessary for generating bicep code for building an environment on Azure.\n\n## Approach\nThe big picture is very important. If the background of the user is not yet clear, you should first ask questions to clarify the motivation on why the user is even trying to build this environment before diving into specifics.",
      "user_instruction": "Please ask ONE question to delve deeper into the user's requirements. Make sure it is only one question. Keep it short and concise so the user can easily understand and respond.",
      "fallback_question": "Could you tell me a bit more about your requirements?"
    },
    "requirements_evaluation": {
      "system_instruction": "Your role is to decide whether the conversation so far contains sufficient, specific requirements to generate the requested Azure environment using Bicep. Apply the 80% rule: mark requirements sufficient if another engineer would build roughly the same environment 80% of the time. If requirements are sufficient, reply only with \"yes\". If insufficient, reply only with \"no\". Do not include any other text.",
      "user_instruction": "Are the given requirements sufficient to generate the requested Azure environment using Bicep? Please answer with 'yes' or 'no' only."
    },
    "code_generation": {
      "system_initial": "You are an experienced Azure infrastructure engineer. Based solely on the 'Requirements Summary' below and (if present) the 'Recent lint results', please provide minimal, appropriate, and reusable Bicep code for 1 file only. The output should contain no explanations, only a code block starting with ```bicep. Assume you cannot reference previous conversation content, and if information is missing from the requirements summary, make reasonable default assumptions.",
      "system_regeneration": "You are an experienced Azure infrastructure engineer. Please review the 'Existing Code' and 'Lint Results' provided below, resolve critical/important issues while avoiding unnecessary resource additions or over-optimization to improve the Bicep code.\nPlease strictly follow these principles:\n1. Do not change parts of existing code that are already appropriate (minimize diff).\n2. Only supplement deficiencies based on lint/requirements summary. If assumptions are needed, use minimal configuration.\n3. Output code blocks only (no explanations/comments except minimal comments for problem areas).\n4. Do not rename resource names or parameter names unless absolutely necessary for changes.",
      "user_initial": "Generate the complete Bicep code. Keep explanations/comments to a minimum (or none). Return only the code block.\n\n## Requirements Summary\n{requirement_summary}",
      "user_regeneration": "Reproduce the complete improved Bicep code with minimal modifications. Return only the code block.\n\n## Requirements Summary\n{requirement_summary}"
    },
    "summarize_requirements": {
      "system_instruction": "Your role is to summerize the user's requirements into a concise, structured format. Considering the conversations so far, please extract the requirements necessary for generating Bicep code for Azure infrastructure and summarize them.",
      "user_instruction": "Please extract requirements and summarize them in the specified format.\n\n## Conversation History\n{dialog_history}"
    }
  },
  "messages": {
    "hearing": {
      "initial": "What kind of Azure environment would you like to create?"
    },
    "requirements_evaluation": {
      "requirements_are_sufficient": "The requirements seem to be sufficient enough to generate a Bicep file.",
      "requirements_are_insufficient": "The requirements are insufficient."
    },
    "summarize_requirements": {
      "generation_succeeded": "Requirements have been consolidated.\n\n===== Requirements Summary =====\n{summary_text}\n\nBicep code will be generated based on these requirements.",
      "generation_failed": "Failed to generate requirements summary. Use the conversation history as context instead.\n\n===== Conversation History =====\n{summary_text}\n\nBicep code will be generated based on this history."
    },
    "code_generation": {
      "initial_done": "Bicep code has been generated. Proceeding to lint validation.",
      "regeneration_done": "Bicep code has been improved. Proceeding to lint re-validation.",
      "no_code": "No code available for validation."
    },
    "code_validation": {
      "no_code": "No code available for validation.",
      "bicep_cmd_not_found": "bicep command not found. Please check your Azure CLI or Bicep extension installation.",
      "execution_error": "Lint execution error: {error}",
      "lint_succeeded": "No bicep lint issues found.",
      "lint_failed": "Bicep lint issues found:\n\n{lint_output}\n\nTake a look at the code blocks with those issues and gather relevant information from Microsoft Learn Docs to fix them."
    },
    "completed": {
      "default": "Process completed.",
      "validation_passed": "Bicep code has passed validation. Please use the generated code!",
      "generation_limit_reached": "Code generation limit (MAX_GENERATION_COUNT) reached, terminating process. Please manually fix any remaining warnings/errors."
    },
    "api": {
      "reset_success": "Conversation ({session_id}) has been reset",
      "error": "An error occurred: {error}",
      "bicep_generation_complete": "Bicep code generation completed!",
      "preparing_next": "Preparing the next question..."
    }
  }
}
